// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id                    Int                   @id @default(autoincrement())
  first_name            String
  last_name             String
  mail                  String                @unique
  client                Client                []
  admin                 Admin                 []
} 

model Client {
  id                    Int                   @id @default(autoincrement())
  numberClient          Int
  user                  User                  @relation(fields: [userId], references: [id])
  userId                Int
  account               Account               []
}

model Admin {
  id                    Int                   @id @default(autoincrement())
  numberAdmin           Int
  user                  User                  @relation(fields: [userId], references: [id])
  userId                Int
}

model Account {
  id                    Int                   @id @default(autoincrement())
  numberAccount         Int
  balance               Int
  client                Client                @relation(fields: [clientId], references: [id])
  clientId              Int
  transactionhistory    TransactionHistory    []
}

model TransactionHistory {
    id                  Int                   @id @default(autoincrement())
    date                DateTime      
    debitClient         Int       
    creditClient        Int       
    account             Account               @relation(fields: [accountId], references: [id])
    accountId           Int       
}