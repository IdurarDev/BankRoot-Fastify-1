// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  idUser              Int                   @id @default(autoincrement())
  first_name            String
  last_name             String
  mail                  String                @unique
  client                Client                []
  admin                 Admin                 []
} 

model Client {
  idClient              Int                   @id @default(autoincrement())
  numberClient          Int
  user                  User                  @relation(fields: [userId], references: [idUser])
  userId                Int
  account               Account               []
}

model Admin {
  idAdmin               Int                   @id @default(autoincrement())
  numberAdmin           Int
  user                  User                  @relation(fields: [userId], references: [idUser])
  userId                Int
}

model Account {
  idAccount             Int                   @id @default(autoincrement())
  numberAccount         Int
  balance               Int
  transactionHistory    TransactionHistory    []
  client                Client                @relation(fields: [clientId], references: [idClient])
  clientId              Int
}

model TransactionHistory {
  idTransactionHistory Int                   @id @default(autoincrement())
  date                DateTime      
  debitClient         Int       
  creditClient        Int
  account             Account                @relation(fields: [accountId], references: [idAccount])
  accountId           Int
}